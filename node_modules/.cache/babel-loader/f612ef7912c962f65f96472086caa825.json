{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nvar _jsxFileName = \"/home/abrikos/WebstormProjects/math/src/pages/post/PostView.js\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect, useState } from 'react';\nimport ErrorPage from \"components/service/ErrorPage\";\nimport { A } from \"hookrouter\";\nimport DateFormat from \"components/DateFormat\";\nimport MarkDown from \"react-markdown\";\nexport default function PostView(props) {\n  _s();\n\n  const [model, setModel] = useState();\n  useEffect(() => {\n    props.store.api(`/post/${props.id}/view`).then(setModel);\n  }, []);\n  if (!model) return /*#__PURE__*/_jsxDEV(ErrorPage, {\n    error: 404\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 14,\n    columnNumber: 23\n  }, this);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"post-view\",\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      children: model.header\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 16,\n      columnNumber: 9\n    }, this), props.store.authenticatedUser && props.store.authenticatedUser.admin && /*#__PURE__*/_jsxDEV(A, {\n      href: model.adminLink,\n      children: \"\\u0420\\u0435\\u0434\\u0430\\u043A\\u0442\\u0438\\u0440\\u043E\\u0432\\u0430\\u0442\\u044C\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 17,\n      columnNumber: 82\n    }, this), model.previewPath && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"text-center\",\n      children: /*#__PURE__*/_jsxDEV(\"img\", {\n        src: model.previewPath,\n        alt: model.header,\n        className: \"img-fluid\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 18,\n        columnNumber: 60\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 18,\n      columnNumber: 31\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"p-2\",\n      children: /*#__PURE__*/_jsxDEV(MarkDown, {\n        source: model.text\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 19,\n        columnNumber: 30\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 19,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"small\", {\n      className: \"d-block text-right text-secondary\",\n      children: /*#__PURE__*/_jsxDEV(DateFormat, {\n        date: model.date\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 20,\n        columnNumber: 62\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 20,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 15,\n    columnNumber: 12\n  }, this);\n}\n\n_s(PostView, \"73fqmUeYtQfVIa6nDOtqne2Fh0Y=\");\n\n_c = PostView;\n\nvar _c;\n\n$RefreshReg$(_c, \"PostView\");","map":{"version":3,"sources":["/home/abrikos/WebstormProjects/math/src/pages/post/PostView.js"],"names":["React","useEffect","useState","ErrorPage","A","DateFormat","MarkDown","PostView","props","model","setModel","store","api","id","then","header","authenticatedUser","admin","adminLink","previewPath","text","date"],"mappings":";;;;;AAAA,OAAOA,KAAP,IAAeC,SAAf,EAA0BC,QAA1B,QAAyC,OAAzC;AACA,OAAOC,SAAP,MAAsB,8BAAtB;AACA,SAAQC,CAAR,QAAgB,YAAhB;AACA,OAAOC,UAAP,MAAuB,uBAAvB;AACA,OAAOC,QAAP,MAAqB,gBAArB;AAEA,eAAe,SAASC,QAAT,CAAkBC,KAAlB,EAAyB;AAAA;;AACpC,QAAM,CAACC,KAAD,EAAOC,QAAP,IAAmBR,QAAQ,EAAjC;AACAD,EAAAA,SAAS,CAAC,MAAI;AACVO,IAAAA,KAAK,CAACG,KAAN,CAAYC,GAAZ,CAAiB,SAAQJ,KAAK,CAACK,EAAG,OAAlC,EACKC,IADL,CACUJ,QADV;AAEH,GAHQ,EAGP,EAHO,CAAT;AAKA,MAAG,CAACD,KAAJ,EAAW,oBAAO,QAAC,SAAD;AAAW,IAAA,KAAK,EAAE;AAAlB;AAAA;AAAA;AAAA;AAAA,UAAP;AACX,sBAAO;AAAK,IAAA,SAAS,EAAC,WAAf;AAAA,4BACH;AAAA,gBAAKA,KAAK,CAACM;AAAX;AAAA;AAAA;AAAA;AAAA,YADG,EAEFP,KAAK,CAACG,KAAN,CAAYK,iBAAZ,IAAiCR,KAAK,CAACG,KAAN,CAAYK,iBAAZ,CAA8BC,KAA/D,iBAAwE,QAAC,CAAD;AAAG,MAAA,IAAI,EAAER,KAAK,CAACS,SAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YAFtE,EAGFT,KAAK,CAACU,WAAN,iBAAqB;AAAK,MAAA,SAAS,EAAC,aAAf;AAAA,6BAA6B;AAAK,QAAA,GAAG,EAAEV,KAAK,CAACU,WAAhB;AAA6B,QAAA,GAAG,EAAEV,KAAK,CAACM,MAAxC;AAAgD,QAAA,SAAS,EAAC;AAA1D;AAAA;AAAA;AAAA;AAAA;AAA7B;AAAA;AAAA;AAAA;AAAA,YAHnB,eAIH;AAAK,MAAA,SAAS,EAAC,KAAf;AAAA,6BAAqB,QAAC,QAAD;AAAU,QAAA,MAAM,EAAEN,KAAK,CAACW;AAAxB;AAAA;AAAA;AAAA;AAAA;AAArB;AAAA;AAAA;AAAA;AAAA,YAJG,eAKH;AAAO,MAAA,SAAS,EAAC,mCAAjB;AAAA,6BAAqD,QAAC,UAAD;AAAY,QAAA,IAAI,EAAEX,KAAK,CAACY;AAAxB;AAAA;AAAA;AAAA;AAAA;AAArD;AAAA;AAAA;AAAA;AAAA,YALG;AAAA;AAAA;AAAA;AAAA;AAAA,UAAP;AAOH;;GAfuBd,Q;;KAAAA,Q","sourcesContent":["import React, {useEffect, useState} from 'react';\nimport ErrorPage from \"components/service/ErrorPage\";\nimport {A} from \"hookrouter\"\nimport DateFormat from \"components/DateFormat\";\nimport MarkDown from \"react-markdown\";\n\nexport default function PostView(props) {\n    const [model,setModel] = useState();\n    useEffect(()=>{\n        props.store.api(`/post/${props.id}/view`)\n            .then(setModel)\n    },[])\n\n    if(!model) return <ErrorPage error={404}/>\n    return <div className=\"post-view\">\n        <h2>{model.header}</h2>\n        {props.store.authenticatedUser && props.store.authenticatedUser.admin && <A href={model.adminLink}>Редактировать</A>}\n        {model.previewPath && <div className=\"text-center\"><img src={model.previewPath} alt={model.header} className=\"img-fluid\"/></div>}\n        <div className=\"p-2\"><MarkDown source={model.text}/></div>\n        <small className=\"d-block text-right text-secondary\"><DateFormat date={model.date}/></small>\n    </div>\n}\n\n\n\n\n"]},"metadata":{},"sourceType":"module"}