{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nvar _jsxFileName = \"/home/abrikos/WebstormProjects/math/src/pages/post/PostView.js\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect, useState } from 'react';\nimport ErrorPage from \"components/service/ErrorPage\";\nimport { A } from \"hookrouter\";\nimport DateFormat from \"components/DateFormat\";\nimport MarkDown from \"react-markdown\";\nimport ShareButtons from \"components/share-button/ShareButtons\";\nexport default function PostView(props) {\n  _s();\n\n  const [model, setModel] = useState();\n  useEffect(() => {\n    props.store.api(`/post/${props.id}/view`).then(setModel);\n  }, []);\n  if (!model) return /*#__PURE__*/_jsxDEV(ErrorPage, {\n    error: 404\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 15,\n    columnNumber: 24\n  }, this);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"post-view container\",\n    children: [props.store.authenticatedUser && props.store.authenticatedUser.admin && /*#__PURE__*/_jsxDEV(A, {\n      href: model.adminLink,\n      children: \"\\u0420\\u0435\\u0434\\u0430\\u043A\\u0442\\u0438\\u0440\\u043E\\u0432\\u0430\\u0442\\u044C\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 17,\n      columnNumber: 82\n    }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n      children: model.header\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 18,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [\"\\u0414\\u043E\\u043A\\u043B\\u0430\\u0434\\u0447\\u0438\\u043A: \", /*#__PURE__*/_jsxDEV(\"strong\", {\n        children: model.speaker\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 19,\n        columnNumber: 25\n      }, this), \" \", /*#__PURE__*/_jsxDEV(\"small\", {\n        children: model.speaker2\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 19,\n        columnNumber: 58\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 19,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [\"\\u0414\\u0430\\u0442\\u0430: \", /*#__PURE__*/_jsxDEV(\"strong\", {\n        children: model.dayDate\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 20,\n        columnNumber: 20\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 20,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [\"\\u0412\\u0440\\u0435\\u043C\\u044F:\", ' ', /*#__PURE__*/_jsxDEV(\"strong\", {\n        children: model.hour\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 22,\n        columnNumber: 13\n      }, this), \" (\\u042F\\u041A\\u0422),\", /*#__PURE__*/_jsxDEV(\"strong\", {\n        children: model.hour - 2\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 23,\n        columnNumber: 13\n      }, this), \" (\\u041D\\u0421\\u041A),\", /*#__PURE__*/_jsxDEV(\"strong\", {\n        children: model.hour - 6\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 24,\n        columnNumber: 13\n      }, this), \" (\\u041C\\u0421\\u041A)\"]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 21,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"hr\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 26,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"d-sm-flex align-items-start text-justify\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        children: /*#__PURE__*/_jsxDEV(MarkDown, {\n          source: model.annotation\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 29,\n          columnNumber: 18\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 29,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: /*#__PURE__*/_jsxDEV(\"img\", {\n          src: model.previewPath,\n          alt: model.header,\n          className: \"img-fluid m-3\",\n          style: {\n            maxWidth: 400\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 30,\n          columnNumber: 18\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 30,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 28,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      children: /*#__PURE__*/_jsxDEV(\"a\", {\n        href: model.meeting,\n        target: \"_blank\",\n        children: \"\\u0421\\u0441\\u044B\\u043B\\u043A\\u0430 \\u043D\\u0430 \\u043F\\u043E\\u0434\\u043A\\u043B\\u044E\\u0447\\u0435\\u043D\\u0438\\u0435\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 32,\n        columnNumber: 14\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 32,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"p-2\",\n      children: /*#__PURE__*/_jsxDEV(MarkDown, {\n        source: model.text\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 35,\n        columnNumber: 13\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 34,\n      columnNumber: 9\n    }, this), model.presentation && /*#__PURE__*/_jsxDEV(\"div\", {\n      children: /*#__PURE__*/_jsxDEV(\"a\", {\n        href: model.presentation,\n        target: \"_blank\",\n        children: \"\\u0421\\u0441\\u044B\\u043B\\u043A\\u0430 \\u043D\\u0430 \\u043F\\u0440\\u0435\\u0437\\u0435\\u043D\\u0442\\u0430\\u0446\\u0438\\u044E\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 37,\n        columnNumber: 37\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 37,\n      columnNumber: 32\n    }, this), model.video && /*#__PURE__*/_jsxDEV(\"div\", {\n      children: /*#__PURE__*/_jsxDEV(\"a\", {\n        href: model.video,\n        target: \"_blank\",\n        children: \"\\u0421\\u0441\\u044B\\u043B\\u043A\\u0430 \\u043D\\u0430 \\u0432\\u0438\\u0434\\u0435\\u043E\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 38,\n        columnNumber: 30\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 38,\n      columnNumber: 25\n    }, this), /*#__PURE__*/_jsxDEV(\"small\", {\n      className: \"d-block text-right text-secondary\",\n      children: /*#__PURE__*/_jsxDEV(DateFormat, {\n        date: model.date\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 39,\n        columnNumber: 62\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 39,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(ShareButtons, {\n      link: model.shareLink\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 40,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 16,\n    columnNumber: 12\n  }, this);\n}\n\n_s(PostView, \"cXOwVLCDO3oiahgVa25o7YQmsiI=\");\n\n_c = PostView;\n\nvar _c;\n\n$RefreshReg$(_c, \"PostView\");","map":{"version":3,"sources":["/home/abrikos/WebstormProjects/math/src/pages/post/PostView.js"],"names":["React","useEffect","useState","ErrorPage","A","DateFormat","MarkDown","ShareButtons","PostView","props","model","setModel","store","api","id","then","authenticatedUser","admin","adminLink","header","speaker","speaker2","dayDate","hour","annotation","previewPath","maxWidth","meeting","text","presentation","video","date","shareLink"],"mappings":"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","sourcesContent":["import React, {useEffect, useState} from 'react';\nimport ErrorPage from \"components/service/ErrorPage\";\nimport {A} from \"hookrouter\"\nimport DateFormat from \"components/DateFormat\";\nimport MarkDown from \"react-markdown\";\nimport ShareButtons from \"components/share-button/ShareButtons\";\n\nexport default function PostView(props) {\n    const [model, setModel] = useState();\n    useEffect(() => {\n        props.store.api(`/post/${props.id}/view`)\n            .then(setModel)\n    }, [])\n\n    if (!model) return <ErrorPage error={404}/>\n    return <div className=\"post-view container\">\n        {props.store.authenticatedUser && props.store.authenticatedUser.admin && <A href={model.adminLink}>Редактировать</A>}\n        <h2>{model.header}</h2>\n        <div>Докладчик: <strong>{model.speaker}</strong> <small>{model.speaker2}</small></div>\n        <div>Дата: <strong>{model.dayDate}</strong></div>\n        <div>Время:{' '}\n            <strong>{model.hour}</strong> (ЯКТ),\n            <strong>{model.hour - 2}</strong> (НСК),\n            <strong>{model.hour - 6}</strong> (МСК)\n        </div>\n        <hr/>\n\n        <div className=\"d-sm-flex align-items-start text-justify\">\n            <div><MarkDown source={model.annotation}/></div>\n            <div><img src={model.previewPath} alt={model.header} className=\"img-fluid m-3\" style={{maxWidth:400}}/></div>\n        </div>\n        <div><a href={model.meeting} target=\"_blank\">Ссылка на подключение</a></div>\n\n        <div className=\"p-2\">\n            <MarkDown source={model.text}/>\n        </div>\n        {model.presentation && <div><a href={model.presentation} target=\"_blank\">Ссылка на презентацию</a></div>}\n        {model.video && <div><a href={model.video} target=\"_blank\">Ссылка на видео</a></div>}\n        <small className=\"d-block text-right text-secondary\"><DateFormat date={model.date}/></small>\n        <ShareButtons link={model.shareLink}/>\n    </div>\n}\n\n\n\n\n"]},"metadata":{},"sourceType":"module"}